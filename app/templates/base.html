<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title if title else "FastFarmer" }}</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <header class="container">
    <a href="/" class="logo">FastFarmer</a>
    <nav>
      <a href="/">Home</a>
      <a href="/register">Register</a>
      <a href="/login">Login</a>
      <a href="/dashboard">Dashboard</a>
      <a href="/machines">Machines</a>
      <a href="/listings">Listings</a>
      <a href="/inbox">Inbox</a>
      <a href="/fields">Fields</a>
      <a href="/docs">API</a>
    </nav>
  </header>
  <main class="container">
    {% block content %}{% endblock %}
  </main>
  <footer class="container small">
    v0.1 â€” FastAPI + Jinja2
  </footer>
</body>
</html>
<script>
  // simple client-side toggle
  (function(){
    const nav = document.querySelector("nav");
    if (!nav) return;
    if (localStorage.getItem("token")) {
      const a = document.createElement("a");
      a.href="#"; a.textContent="Logout";
      a.onclick = () => { localStorage.removeItem("token"); location.reload(); };
      nav.appendChild(a);
    }
  })();
</script>

